@model Invoice_Manager.Models.Domains.Invoice

@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Faktura @Model.InvoiceNumber</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 14px;
            color: #333;
        }

        .header {
            margin-bottom: 40px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 20px;
        }

        .invoice-title {
            font-size: 28px;
            font-weight: bold;
            color: #444;
            text-transform: uppercase;
        }

        .invoice-meta {
            float: right;
            text-align: right;
        }

        .columns {
            width: 100%;
            margin-bottom: 30px;
            display: table;
        }

        .column {
            display: table-cell;
            width: 50%;
            vertical-align: top;
        }

        .box-title {
            font-weight: bold;
            text-transform: uppercase;
            color: #777;
            font-size: 11px;
            margin-bottom: 5px;
        }

        .company-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }

        th {
            background-color: #0d6efd;
            border-bottom: 2px solid #ddd;
            padding: 10px;
            text-align: left;
            font-size: 12px;
            text-transform: uppercase;
            color: white;
        }

        td {
            border-bottom: 1px solid #eee;
            padding: 10px;
        }

        .text-right {
            text-align: right;
        }

        .summary-box {
            float: right;
            width: 40%;
        }

        .summary-row {
            display: table;
            width: 100%;
            margin-bottom: 5px;
        }

        .summary-label {
            display: table-cell;
            font-weight: bold;
        }

        .summary-value {
            display: table-cell;
            text-align: right;
        }

        .total-row {
            font-size: 18px;
            font-weight: bold;
            color: #000;
            border-top: 2px solid #ddd;
            padding-top: 10px;
            margin-top: 10px;
        }

        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            font-size: 10px;
            color: #999;
            text-align: center;
            border-top: 1px solid #eee;
            padding-top: 10px;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="columns">
            <div class="column">
                <div class="invoice-title">Invoice manger FAKTURA VAT</div>
            </div>
            <div class="column invoice-meta">
                <div><strong>Numer:</strong> @Model.InvoiceNumber</div>
                <div><strong>Data wystawienia:</strong> @Model.IssueDate.ToString("dd.MM.yyyy")</div>
                <div><strong>Data sprzedaży:</strong> @Model.SaleDate.ToString("dd.MM.yyyy")</div>
                <div><strong>Termin płatności:</strong> @Model.DueDate.ToString("dd.MM.yyyy")</div>
            </div>
        </div>
    </div>

    <div class="columns">
        <div class="column">
            <div class="box-title">SPRZEDAWCA</div>
            <div class="company-name">@Model.Company_Name</div>
            <div>@Model.Company_Street</div>
            <div>@Model.Company_PostalCode @Model.Company_City</div>
            <div>NIP: @Model.Company_TaxId</div>
            <div style="margin-top: 10px;">
                <strong>Konto: @Model.Company_BankName</strong><br />
                @Model.Company_BankAccount
            </div>
        </div>

        <div class="column">
            <div class="box-title">NABYWCA</div>
            <div class="company-name">@Model.Client_Name</div>
            <div>@Model.Client_Street</div>
            <div>@Model.Client_PostalCode @Model.Client_City</div>
            @if (!string.IsNullOrEmpty(Model.Client_TaxId))
            {
                <div>NIP: @Model.Client_TaxId</div>
            }
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th style="width: 5%">Lp</th>
                <th style="width: 40%">Nazwa towaru / usługi</th>
                <th style="width: 10%" class="text-right">Ilość</th>
                <th style="width: 5%">Jm</th>
                <th style="width: 15%" class="text-right">Cena Netto</th>
                <th style="width: 10%" class="text-right">VAT</th>
                <th style="width: 15%" class="text-right">Wartość Brutto</th>
            </tr>
        </thead>
        <tbody>
            @{ int index = 1; }
            @foreach (var item in Model.InvoiceItems)
            {
                <tr>
                    <td>@(index++)</td>
                    <td>@item.Name</td>
                    <td class="text-right">@item.Quantity.ToString("0.##")</td>
                    <td>@item.Unit</td>
                    <td class="text-right">@item.UnitPriceNet.ToString("N2")</td>
                    <td class="text-right">@item.TaxRateValue.ToString("0")%</td>
                    <td class="text-right">@item.TotalGrossAmount.ToString("N2")</td>
                </tr>
            }
        </tbody>
    </table>

    </table>

    <div class="columns">

        <div class="column" style="width: 60%; padding-right: 20px;">

            <div style="margin-bottom: 10px;">
                <strong>Sposób płatności:</strong> @Model.PaymentMethod <br />
                <strong>Termin płatności:</strong> @Model.DueDate.ToString("dd.MM.yyyy")
            </div>

            <div style="margin-bottom: 20px;">
                <strong>Słownie:</strong><br />
                    <em>słownie ...</em>
            </div>

            @if (!string.IsNullOrEmpty(Model.Notes))
            {
                <div style="border: 1px solid #eee; padding: 10px; background-color: #f9f9f9; font-size: 11px;">
                    <strong>Uwagi:</strong><br />
                    @Model.Notes
                </div>
            }
        </div>

        <div class="column" style="width: 40%;">
            <div class="summary-row">
                <div class="summary-label">Suma Netto:</div>
                <div class="summary-value">@Model.TotalNetAmount.ToString("N2") PLN</div>
            </div>
            <div class="summary-row">
                <div class="summary-label">Suma VAT:</div>
                <div class="summary-value">@Model.TotalTaxAmount.ToString("N2") PLN</div>
            </div>
            <div class="summary-row total-row">
                <div class="summary-label">DO ZAPŁATY:</div>
                <div class="summary-value">@Model.TotalGrossAmount.ToString("N2") PLN</div>
            </div>
        </div>

    </div>

    <div class="footer">
        Wygenerowano w systemie Invoice Manager | Strona 1/1
    </div>

</body>
</html>